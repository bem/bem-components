# attach

Блок **attach** служит для отправки файла на сервер.

Визуально представлен кнопкой на основе блока [button](../button/), открывающей системное окно загрузки файла, именем файла (`__text`) и крестиком для отмены (`__clear`).

Не позволяет прикреплять несколько файлов и не поддерживает drag-and-drop.

Блок использует функциональность нативного контрола, сам контрол скрыт. В MSIE8 и ниже **attach** деградирует до нативного контрола — прикрепить файл `<input type="file">`.

## Модификаторы блока

### Темы оформления  `_theme`

Блок представлен только в теме *simple*.

Без указания темы к блоку применяются значения по умолчанию:
* Тема кнопки: нативное отображение кнопки браузером
* Локализация: ru
* Сообщение на кнопке `__button`: "Выбрать файл"
* Сообщение при невыбранном файле (`__no-file`): "файл не выбран"

Наглядно видно на примерах ниже:

```bemjson
    {
        block : 'attach',
        button : 'file',
        noFileText : 'no file selected'
    }
```

```bemjson
    {
        block : 'attach',
        mods : { theme : 'simple' },
        button : 'file',
        noFileText : 'no file selected'
    }
```

### Состояния блока

#### Не активен `_disabled`

В состоянии блока "не активен" кнопка выбора становится недоступной для действий пользователя.

Если модификатор `disabled` не выбран, кнопка по умолчанию активна.

```bemjson
    {
        block : 'attach',
        mods : { theme : 'simple', disabled : true },
        button : 'Файл',
        noFileText : 'файл не выбран'
    }
```

## Элементы блока

Визуально представлен следующими элементами:

### __button

Обязательный элемент.
Кнопка выбора файла. Открывает системное окно загрузки файла. Создается на основе блока [button](https://github.com/bem/bem-components/blob/v2/common.blocks/button/button.ru.md) и использует его поведение (JS) и внешний вид (CSS). По умолчанию контент кнопки содержит локализованный текст "Выберите файл".

```bemjson
    {
        block : 'attach',
        mods : { theme : 'simple' },
        button : {
            block : 'button',
            mods : { theme : 'simple' },
            icon : { elem : 'icon' }
        },
        noFileText : 'no file selected'
    }
```
### __control

Нативный контрол "прикрепить файл".

Преобразуется BEMHTML- и BH-шаблонами в нативный элемент прикрепления файла с атрибутами `<input class="file-name" type="file">`.

### __no-file

Элемент для отображения подписи, когда файл не выбран.

Если тема *simple* не указана для блока **attach**, будет использоваться значение по умолчанию – "файл не выбран".

### __file

Контейнер с информацией о прикрепленном файле.

Формируется из следующих элементов блока:

* `__text`
* `__clear`

### __text

Имя файла. Появляется после прикрепления файла.

### __clear

Кнопка отмены выбранного файла (крестик). Появляется после прикрепления файла.

Элемент реализован для темы *simple*.

### Зависимости блока
Блок `attach` зависит от блока, предоставляющего общий API для контролов `base-control`, а также от блока `i-bem__dom`.
