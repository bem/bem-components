# attach

Блок `attach` служит для загрузки файла, предназначенного для отправки на сервер.

По умолчанию блок визуально представлен кнопкой на основе блока [button](https://github.com/bem/bem-components/blob/v2/common.blocks/button/button.ru.md), открывающей системное окно загрузки файла, и текстовым сообщением «Файл не выбран». После загрузки файла отображаются следующие элементы:

* иконка файла (блок `icon`);
* имя файла (элемент `text`);
* крестик для отмены (элемент `clear`).

Не позволяет прикреплять несколько файлов и не поддерживает drag-and-drop.

## Модификаторы блока

### Темы оформления  `_theme`

Блок представлен только в теме *simple*.

Без указания модификатора темы отображается нативный вид контрола (*default*).

Наглядно показано на примерах ниже:

**default**

```bemjson
{
    block : 'attach',
    button : 'Выберите файл',
    noFileText : 'Файл не выбран'
}
```
**simple**

```bemjson
{
    block : 'attach',
    mods : { theme : 'simple' },
    button : 'Выберите файл',
    noFileText : 'Файл не выбран'
}
```

### Состояния блока

#### Неактивен `_disabled`

В состоянии блока «неактивен» кнопка выбора становится недоступной для действий пользователя.

Если модификатор `disabled` не выбран, кнопка по умолчанию активна.

```bemjson
{
    block : 'attach',
    mods : { theme : 'simple', disabled : true },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```

## Элементы блока

Визуально представлен следующими элементами:

### __button

Обязательный элемент.
Кнопка выбора файла. Открывает системное окно загрузки файла. Создается на основе блока [button](https://github.com/bem/bem-components/blob/v2/common.blocks/button/button.ru.md) и использует его поведение (JS) и внешний вид (CSS). Контент кнопки задается во входных данных.

```bemjson
{
    block : 'attach',
    mods : { theme : 'simple' },
    button : {
        block : 'button',
        mods : { theme : 'simple' },
        icon : { block : 'icon', mods : { action : 'download' },
        text: 'Выберите файл'
        }
    },
    noFileText : 'Файл не выбран'
}
```

### __control

Нативный контрол «прикрепить файл».

Преобразуется BEMHTML- и BH-шаблонами в нативный элемент прикрепления файла с атрибутами `<input class="attach__control" type="file">`.

### __no-file

Элемент для отображения текста, когда файл не выбран.

Если тема *simple* не указана для блока `attach`, будет отображаться значение нативного контрола «Файл не выбран».

### __file

Контейнер с информацией о прикрепленном файле.

Формируется из следующих элементов блока:

* `__text`
* `__clear`

Может содержать блок `icon`. В зависимости от типа файла блоку `icon` добавляется соответствующий модификатор, которому будет назначена иконка типа файла.

### __text

Имя файла. Появляется после прикрепления файла.

### __clear

Кнопка отмены выбранного файла (крестик). Появляется после прикрепления файла.

Элемент реализован для темы *simple*.
