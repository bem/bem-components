# attach  

Блок **attach** служит для отправки файла на сервер. 

Визуально представлен кнопкой на основе блока [button](), открывающей системное окно загрузки файла, именем файла (`__text`) с иконкой (`__icon`) и крестиком для отмены(`__clear`).

Не позволяет прикреплять несколько файлов и не поддерживает drag-and-drop. 

??? Блок использует функциональность нативного контрола, сам контрол скрыт. В MSIE8 и ниже attach деградирует до нативного контрола — прикрепить файл `<input type="file">`.

# Модификаторы блока

## Темы блока
`_theme`

Блок представлен только в теме *Simple*.  

Без указания темы к блоку применяются значения по умолчанию:  
* Темя кнопки: нативное отображение кнопки браузером
* Локализация: ru  
* Сообщение на кнопке `__button`: «Выбрать файл»  
* Сообщение при невыбранном файле (`__no-file`): "Файл не выбран"

Наглядно видно на примерах ниже:

```` 
    {
        block : 'attach',
        button : 'file',
        noFileText : 'no file selected'
    }
````

```` 
    {
        block : 'attach',
        mods : { theme : 'simple' },
        button : 'file',
        noFileText : 'no file selected'
    }
````

## Состония блока 
`_disabled_true`

* Не активен   
В состоянии блока "не активен" кнопка выбора становится недоступной для действий пользователя. 

Если модификатор `disabled` не выбран, кнопка по умолчанию активна.

````
    {
        block : 'attach',
        mods : { disabled : true },
        button : 'file',
        noFileText : 'no file selected'
    }
```` 

````
    {
        block : 'attach',
        mods : { theme : 'simple', disabled : true },
        button : 'file',
        noFileText : 'no file selected'
    }
````

# Элементы блока

Визуально представлен следующими элементами:

## __button

Обязательный элемент.  
Кнопка выбора файла. Открывает системное окно загрузки файла. Создается на основе блока [button]() и использует его поведение (JS) и внешний вид (CSS). По умолчанию контент кнопки содержит локализованный текст «Выберите файл».

````
    {
        block : 'attach',
        mods : { theme : 'simple' },
        button : {
            block : 'button',
            mods : { theme : 'simple' },
            icon : { elem : 'icon' }
        },
        noFileText : 'no file selected'
    }
````
## __control

Нативный контрол "прикрепить файл".

Преобразуется BEMHTML- и bh-шаблонами в нативный элемент прикрепления файла с атрибутами `<input class="file-name" type="file">`.

## __no-file

Элемент для отображения подписи, когда файл не выбран. 

Если тема Simple не указана для блока attach, будет использоваться значение по умолчанию – "Файл не выбран".

## __file

Контейнер с информацией о прикрепленном файле. 

Формируется из следующих элементов блока:  

* `__icon`    
* `__text`  
* `__clear`  

## __icon

Иконку, соответствующая типу прикрепленного файла (определяется по расширению файла).

Реализован для темы Simple.

## __text 

Имя файла. Появляется после прикрепления файла.

## __clear

Кнопка отмены выбранного файла (крестик). Появляется после прикрепления файла.

Элемент реализован для темы Simple.
